-----------------------------------------------------------------------------------------------------------------------------------------
-- VRP
-----------------------------------------------------------------------------------------------------------------------------------------
local Tunnel = module("vrp","lib/Tunnel")
local Proxy = module("vrp","lib/Proxy")
local sanitizes = module("cfg/sanitizes")
vRP = Proxy.getInterface("vRP")
vRPclient = Tunnel.getInterface("vRP")
-----------------------------------------------------------------------------------------------------------------------------------------
-- CONEX√ÉO
-----------------------------------------------------------------------------------------------------------------------------------------
src = {}
Tunnel.bindInterface("vrp_homes",src)
vCLIENT = Tunnel.getInterface("vrp_homes")
-----------------------------------------------------------------------------------------------------------------------------------------
-- WEBHOOK
-----------------------------------------------------------------------------------------------------------------------------------------
local webhookbaucasas = ""

function SendWebhookMessage(webhook,message)
	if webhook ~= nil and webhook ~= "" then
		PerformHttpRequest(webhook, function(err, text, headers) end, 'POST', json.encode({content = message}), { ['Content-Type'] = 'application/json' })
	end
end
-----------------------------------------------------------------------------------------------------------------------------------------
-- PREPARES
-----------------------------------------------------------------------------------------------------------------------------------------
vRP._prepare("homes/get_homeuser","SELECT * FROM vrp_homes_permissions WHERE user_id = @user_id AND home = @home")
vRP._prepare("homes/get_homeuserid","SELECT * FROM vrp_homes_permissions WHERE user_id = @user_id")
vRP._prepare("homes/get_homeuserowner","SELECT * FROM vrp_homes_permissions WHERE user_id = @user_id AND home = @home AND owner = 1")
vRP._prepare("homes/get_homeuseridowner","SELECT * FROM vrp_homes_permissions WHERE home = @home AND owner = 1")
vRP._prepare("homes/get_homepermissions","SELECT * FROM vrp_homes_permissions WHERE home = @home")
vRP._prepare("homes/add_permissions","INSERT IGNORE INTO vrp_homes_permissions(home,user_id) VALUES(@home,@user_id)")
vRP._prepare("homes/buy_permissions","INSERT IGNORE INTO vrp_homes_permissions(home,user_id,owner,tax,garage) VALUES(@home,@user_id,1,@tax,1)")
vRP._prepare("homes/count_homepermissions","SELECT COUNT(*) as qtd FROM vrp_homes_permissions WHERE home = @home")
vRP._prepare("homes/upd_permissions","UPDATE vrp_homes_permissions SET garage = 1 WHERE home = @home AND user_id = @user_id")
vRP._prepare("homes/rem_permissions","DELETE FROM vrp_homes_permissions WHERE home = @home AND user_id = @user_id")
vRP._prepare("homes/upd_taxhomes","UPDATE vrp_homes_permissions SET tax = @tax WHERE user_id = @user_id, home = @home AND owner = 1")
vRP._prepare("homes/rem_allpermissions","DELETE FROM vrp_homes_permissions WHERE home = @home")
vRP._prepare("homes/get_allhomes","SELECT * FROM vrp_homes_permissions WHERE owner = @owner")
vRP._prepare("homes/get_allvehs","SELECT * FROM vrp_vehicles")
-----------------------------------------------------------------------------------------------------------------------------------------
-- HOMESINFO
-----------------------------------------------------------------------------------------------------------------------------------------
local homes = {
-----------------------------------------------------------------------------------------------------------------------------------------
---------------------------------------------------------FORTHILLS-----------------------------------------------------------------------
-----------------------------------------------------------------------------------------------------------------------------------------
	["FH01"] = { 3500000,2,1500 },
	["FH02"] = { 3500000,2,1500 },
	["FH03"] = { 3500000,2,1500 },
	["FH04"] = { 3500000,2,1500 },
	["FH05"] = { 3500000,2,1500 },
	["FH06"] = { 3500000,2,1500 },
	["FH07"] = { 3500000,2,1500 },
	["FH08"] = { 3500000,2,1500 },
	["FH09"] = { 3500000,2,1500 },
	["FH10"] = { 3500000,2,1500 },
	["FH11"] = { 3500000,2,1500 },
	["FH12"] = { 3500000,2,1500 },
	["FH13"] = { 3500000,2,1500 },
	["FH14"] = { 3500000,2,1500 },
	["FH15"] = { 3500000,2,1500 },
	["FH16"] = { 3500000,2,1500 },
	["FH17"] = { 3500000,2,1500 },
	["FH18"] = { 3500000,2,1500 },
	["FH19"] = { 3500000,2,1500 },
	["FH20"] = { 3500000,2,1500 },
	["FH21"] = { 3500000,2,1500 },
	["FH22"] = { 3500000,2,1500 },
	["FH23"] = { 3500000,2,1500 },
	["FH24"] = { 3500000,2,1500 },
	["FH25"] = { 3500000,2,1500 },
	["FH26"] = { 3500000,2,1500 },
	["FH27"] = { 3500000,2,1500 },
	["FH28"] = { 3500000,2,1500 },
	["FH29"] = { 3500000,2,1500 },
	["FH30"] = { 3500000,2,1500 },
	["FH31"] = { 3500000,2,1500 },
	["FH32"] = { 3500000,2,1500 },
	["FH33"] = { 3500000,2,1500 },
	["FH34"] = { 3500000,2,1500 },
	["FH35"] = { 3500000,2,1500 },
	["FH36"] = { 3500000,2,1500 },
	["FH37"] = { 3500000,2,1500 },
	["FH38"] = { 3500000,2,1500 },
	["FH39"] = { 3500000,2,1500 },
	["FH40"] = { 3500000,2,1500 },
	["FH41"] = { 3500000,2,1500 },
	["FH42"] = { 3500000,2,1500 },
	["FH43"] = { 3500000,2,1500 },
	["FH44"] = { 3500000,2,1500 },
	["FH45"] = { 3500000,2,1500 },
	["FH46"] = { 3500000,2,1500 },
	["FH47"] = { 3500000,2,1500 },
	["FH48"] = { 3500000,2,1500 },
	["FH49"] = { 3500000,2,1500 },
	["FH50"] = { 3500000,2,1500 },
	["FH51"] = { 3500000,2,1500 },
	["FH52"] = { 3500000,2,1500 },
	["FH53"] = { 3500000,2,1500 },
	["FH54"] = { 3500000,2,1500 },
	["FH55"] = { 3500000,2,1500 },
	["FH56"] = { 3500000,2,1500 },
	["FH57"] = { 3500000,2,1500 },
	["FH58"] = { 3500000,2,1500 },
	["FH59"] = { 3500000,2,1500 },
	["FH60"] = { 3500000,2,1500 },
	["FH61"] = { 3500000,2,1500 },
	["FH62"] = { 3500000,2,1500 },
	["FH63"] = { 3500000,2,1500 },
	["FH64"] = { 3500000,2,1500 },
	["FH65"] = { 3500000,2,1500 },
	["FH66"] = { 3500000,2,1500 },
	["FH67"] = { 3500000,2,1500 },
	["FH68"] = { 3500000,2,1500 },
	["FH69"] = { 3500000,2,1500 },
	["FH70"] = { 3500000,2,1500 },
	["FH71"] = { 3500000,2,1500 },
	["FH72"] = { 3500000,2,1500 },
	["FH73"] = { 3500000,2,1500 },
	["FH74"] = { 3500000,2,1500 },
	["FH75"] = { 3500000,2,1500 },
	["FH76"] = { 3500000,2,1500 },
	["FH77"] = { 3500000,2,1500 },
	["FH78"] = { 3500000,2,1500 },
	["FH79"] = { 3500000,2,1500 },
	["FH80"] = { 3500000,2,1500 },
	["FH81"] = { 3500000,2,1500 },
	["FH82"] = { 3500000,2,1500 },
	["FH83"] = { 3500000,2,1500 },
	["FH84"] = { 3500000,2,1500 },
	["FH85"] = { 3500000,2,1500 },
	["FH86"] = { 3500000,2,1500 },
	["FH87"] = { 3500000,2,1500 },
	["FH88"] = { 3500000,2,1500 },
	["FH89"] = { 3500000,2,1500 },
	["FH90"] = { 3500000,2,1500 },
	["FH91"] = { 3500000,2,1500 },
	["FH92"] = { 3500000,2,1500 },
	["FH93"] = { 3500000,2,1500 },
	["FH94"] = { 3500000,2,1500 },
	["FH95"] = { 3500000,2,1500 },
	["FH96"] = { 3500000,2,1500 },
	["FH97"] = { 3500000,2,1500 },
	["FH98"] = { 3500000,2,1500 },
	["FH99"] = { 3500000,2,1500 },
	["FH100"] = { 3500000,2,1500 },
-----------------------------------------------------------------------------------------------------------------------------------------
---------------------------------------------------------LUXURY--------------------------------------------------------------------------
-----------------------------------------------------------------------------------------------------------------------------------------
	["LX02"] = { 1500000,2,1000 },
	["LX01"] = { 1500000,2,1000 },
	["LX03"] = { 1500000,2,1000 },
	["LX04"] = { 1500000,2,1000 },
	["LX05"] = { 1500000,2,1000 },
	["LX06"] = { 1500000,2,1000 },
	["LX07"] = { 1500000,2,1000 },
	["LX08"] = { 1500000,2,1000 },
	["LX09"] = { 1500000,2,1000 },
	["LX10"] = { 1500000,2,1000 },
	["LX11"] = { 1500000,2,1000 },
	["LX12"] = { 1500000,2,1000 },
	["LX13"] = { 1500000,2,1000 },
	["LX14"] = { 1500000,2,1000 },
	["LX15"] = { 1500000,2,1000 },
	["LX16"] = { 1500000,2,1000 },
	["LX17"] = { 1500000,2,1000 },
	["LX18"] = { 1500000,2,1000 },
	["LX19"] = { 1500000,2,1000 },
	["LX20"] = { 1500000,2,1000 },
	["LX21"] = { 1500000,2,1000 },
	["LX22"] = { 1500000,2,1000 },
	["LX23"] = { 1500000,2,1000 },
	["LX24"] = { 1500000,2,1000 },
	["LX25"] = { 1500000,2,1000 },
	["LX26"] = { 1500000,2,1000 },
	["LX27"] = { 1500000,2,1000 },
	["LX28"] = { 1500000,2,1000 },
	["LX29"] = { 1500000,2,1000 },
	["LX30"] = { 1500000,2,1000 },
	["LX31"] = { 1500000,2,1000 },
	["LX32"] = { 1500000,2,1000 },
	["LX33"] = { 1500000,2,1000 },
	["LX34"] = { 1500000,2,1000 },
	["LX35"] = { 1500000,2,1000 },
	["LX36"] = { 1500000,2,1000 },
	["LX37"] = { 1500000,2,1000 },
	["LX38"] = { 1500000,2,1000 },
	["LX39"] = { 1500000,2,1000 },
	["LX40"] = { 1500000,2,1000 },
	["LX41"] = { 1500000,2,1000 },
	["LX42"] = { 1500000,2,1000 },
	["LX43"] = { 1500000,2,1000 },
	["LX44"] = { 1500000,2,1000 },
	["LX45"] = { 1500000,2,1000 },
	["LX46"] = { 1500000,2,1000 },
	["LX47"] = { 1500000,2,1000 },
	["LX48"] = { 1500000,2,1000 },
	["LX49"] = { 1500000,2,1000 },
	["LX50"] = { 1500000,2,1000 },
	["LX51"] = { 1500000,2,1000 },
	["LX52"] = { 1500000,2,1000 },
	["LX53"] = { 1500000,2,1000 },
	["LX54"] = { 1500000,2,1000 },
	["LX55"] = { 1500000,2,1000 },
	["LX56"] = { 1500000,2,1000 },
	["LX57"] = { 1500000,2,1000 },
	["LX58"] = { 1500000,2,1000 },
	["LX59"] = { 1500000,2,1000 },
	["LX60"] = { 1500000,2,1000 },
	["LX61"] = { 1500000,2,1000 },
	["LX62"] = { 1500000,2,1000 },
	["LX63"] = { 1500000,2,1000 },
	["LX64"] = { 1500000,2,1000 },
	["LX65"] = { 1500000,2,1000 },
	["LX66"] = { 1500000,2,1000 },
	["LX67"] = { 1500000,2,1000 },
	["LX68"] = { 1500000,2,1000 },
	["LX69"] = { 1500000,2,1000 },
	["LX70"] = { 1500000,2,1000 },	
-----------------------------------------------------------------------------------------------------------------------------------------
-----------------------------------------------------SAMIR-------------------------------------------------------------------------------
-----------------------------------------------------------------------------------------------------------------------------------------
	["LS01"] = { 500000,2,200 },
	["LS02"] = { 500000,2,200 },
	["LS03"] = { 500000,2,200 },
	["LS04"] = { 500000,2,200 },
	["LS05"] = { 500000,2,200 },
	["LS06"] = { 500000,2,200 },
	["LS07"] = { 500000,2,200 },
	["LS08"] = { 500000,2,200 },
	["LS09"] = { 500000,2,200 },
	["LS10"] = { 500000,2,200 },
	["LS11"] = { 500000,2,200 },
	["LS12"] = { 500000,2,200 },
	["LS13"] = { 500000,2,200 },
	["LS14"] = { 500000,2,200 },
	["LS15"] = { 500000,2,200 },
	["LS16"] = { 500000,2,200 },
	["LS17"] = { 500000,2,200 },
	["LS18"] = { 500000,2,200 },
	["LS19"] = { 500000,2,200 },
	["LS20"] = { 500000,2,200 },
	["LS21"] = { 500000,2,200 },
	["LS22"] = { 500000,2,200 },
	["LS23"] = { 500000,2,200 },
	["LS24"] = { 500000,2,200 },
	["LS25"] = { 500000,2,200 },
	["LS26"] = { 500000,2,200 },
	["LS27"] = { 500000,2,200 },
	["LS28"] = { 500000,2,200 },
	["LS29"] = { 500000,2,200 },
	["LS30"] = { 500000,2,200 },
	["LS31"] = { 500000,2,200 },
	["LS32"] = { 500000,2,200 },
	["LS33"] = { 500000,2,200 },
	["LS34"] = { 500000,2,200 },
	["LS35"] = { 500000,2,200 },
	["LS36"] = { 500000,2,200 },
	["LS37"] = { 500000,2,200 },
	["LS38"] = { 500000,2,200 },
	["LS39"] = { 500000,2,200 },
	["LS40"] = { 500000,2,200 },
	["LS41"] = { 500000,2,200 },
	["LS42"] = { 500000,2,200 },
	["LS43"] = { 500000,2,200 },
	["LS44"] = { 500000,2,200 },
	["LS45"] = { 500000,2,200 },
	["LS46"] = { 500000,2,200 },
	["LS47"] = { 500000,2,200 },
	["LS48"] = { 500000,2,200 },
	["LS49"] = { 500000,2,200 },
	["LS50"] = { 500000,2,200 },
	["LS51"] = { 500000,2,200 },
	["LS52"] = { 500000,2,200 },
	["LS53"] = { 500000,2,200 },
	["LS54"] = { 500000,2,200 },
	["LS55"] = { 500000,2,200 },
	["LS56"] = { 500000,2,200 },
	["LS57"] = { 500000,2,200 },
	["LS58"] = { 500000,2,200 },
	["LS59"] = { 500000,2,200 },
	["LS60"] = { 500000,2,200 },
	["LS61"] = { 500000,2,200 },
	["LS62"] = { 500000,2,200 },
	["LS63"] = { 500000,2,200 },
	["LS64"] = { 500000,2,200 },
	["LS65"] = { 500000,2,200 },
	["LS66"] = { 500000,2,200 },
	["LS67"] = { 500000,2,200 },
	["LS68"] = { 500000,2,200 },
	["LS69"] = { 500000,2,200 },
	["LS70"] = { 500000,2,200 },
	["LS71"] = { 500000,2,200 },
	["LS72"] = { 500000,2,200 },
-----------------------------------------------------------------------------------------------------------------------------------------
----------------------------------------------------BOLLINI------------------------------------------------------------------------------
-----------------------------------------------------------------------------------------------------------------------------------------
	["BL01"] = { 300000,2,200 },
	["BL02"] = { 300000,2,200 },
	["BL03"] = { 300000,2,200 },
	["BL04"] = { 300000,2,200 },
	["BL05"] = { 300000,2,200 },
	["BL06"] = { 300000,2,200 },
	["BL07"] = { 300000,2,200 },
	["BL08"] = { 300000,2,200 },
	["BL09"] = { 300000,2,200 },
	["BL10"] = { 300000,2,200 },
	["BL11"] = { 300000,2,200 },
	["BL12"] = { 300000,2,200 },
	["BL13"] = { 300000,2,200 },
	["BL14"] = { 300000,2,200 },
	["BL15"] = { 300000,2,200 },
	["BL16"] = { 300000,2,200 },
	["BL17"] = { 300000,2,200 },
	["BL18"] = { 300000,2,200 },
	["BL19"] = { 300000,2,200 },
	["BL20"] = { 300000,2,200 },
	["BL21"] = { 300000,2,200 },
	["BL22"] = { 300000,2,200 },
	["BL23"] = { 300000,2,200 },
	["BL24"] = { 300000,2,200 },
	["BL25"] = { 300000,2,200 },
	["BL26"] = { 300000,2,200 },
	["BL27"] = { 300000,2,200 },
	["BL28"] = { 300000,2,200 },
	["BL29"] = { 300000,2,200 },
	["BL30"] = { 300000,2,200 },
	["BL31"] = { 300000,2,200 },
	["BL32"] = { 300000,2,200 },
-----------------------------------------------------------------------------------------------------------------------------------------
---------------------------------------------------------LOSVAGOS------------------------------------------------------------------------
-----------------------------------------------------------------------------------------------------------------------------------------
	["LV01"] = { 300000,2,250 },
	["LV02"] = { 300000,2,250 },
	["LV03"] = { 300000,2,250 },
	["LV04"] = { 300000,2,250 },
	["LV05"] = { 300000,2,250 },
	["LV06"] = { 300000,2,250 },
	["LV07"] = { 300000,2,250 },
	["LV08"] = { 300000,2,250 },
	["LV09"] = { 300000,2,250 },
	["LV10"] = { 300000,2,250 },
	["LV11"] = { 300000,2,250 },
	["LV12"] = { 300000,2,250 },
	["LV13"] = { 300000,2,250 },
	["LV14"] = { 300000,2,250 },
	["LV15"] = { 300000,2,250 },
	["LV16"] = { 300000,2,250 },
	["LV17"] = { 300000,2,250 },
	["LV18"] = { 300000,2,250 },
	["LV19"] = { 300000,2,250 },
	["LV20"] = { 300000,2,250 },
	["LV21"] = { 300000,2,250 },
	["LV22"] = { 300000,2,250 },
	["LV23"] = { 300000,2,250 },
	["LV24"] = { 300000,2,250 },
	["LV25"] = { 300000,2,250 },
	["LV26"] = { 300000,2,250 },
	["LV27"] = { 300000,2,250 },
	["LV28"] = { 300000,2,250 },
	["LV29"] = { 300000,2,250 },
	["LV30"] = { 300000,2,250 },
	["LV31"] = { 300000,2,250 },
	["LV32"] = { 300000,2,250 },
	["LV33"] = { 300000,2,250 },
	["LV34"] = { 300000,2,250 },
	["LV35"] = { 300000,2,250 },
-----------------------------------------------------------------------------------------------------------------------------------------
---------------------------------------------------------KRONDORS------------------------------------------------------------------------
-----------------------------------------------------------------------------------------------------------------------------------------
	["KR01"] = { 300000,2,250 },
	["KR02"] = { 300000,2,250 },
	["KR03"] = { 300000,2,250 },
	["KR04"] = { 300000,2,250 },
	["KR05"] = { 300000,2,250 },
	["KR06"] = { 300000,2,250 },
	["KR07"] = { 300000,2,250 },
	["KR08"] = { 300000,2,250 },
	["KR09"] = { 300000,2,250 },
	["KR10"] = { 300000,2,250 },
	["KR11"] = { 300000,2,250 },
	["KR12"] = { 300000,2,250 },
	["KR13"] = { 300000,2,250 },
	["KR14"] = { 300000,2,250 },
	["KR15"] = { 300000,2,250 },
	["KR16"] = { 300000,2,250 },
	["KR17"] = { 300000,2,250 },
	["KR18"] = { 300000,2,250 },
	["KR19"] = { 300000,2,250 },
	["KR20"] = { 300000,2,250 },
	["KR21"] = { 300000,2,250 },
	["KR22"] = { 300000,2,250 },
	["KR23"] = { 300000,2,250 },
	["KR24"] = { 300000,2,250 },
	["KR25"] = { 300000,2,250 },
	["KR26"] = { 300000,2,250 },
	["KR27"] = { 300000,2,250 },
	["KR28"] = { 300000,2,250 },
	["KR29"] = { 300000,2,250 },
	["KR30"] = { 300000,2,250 },
	["KR31"] = { 300000,2,250 },
	["KR32"] = { 300000,2,250 },
	["KR33"] = { 300000,2,250 },
	["KR34"] = { 300000,2,250 },
	["KR35"] = { 300000,2,250 },
	["KR36"] = { 300000,2,250 },
	["KR37"] = { 300000,2,250 },
	["KR38"] = { 300000,2,250 },
	["KR39"] = { 300000,2,250 },
	["KR40"] = { 300000,2,250 },
	["KR41"] = { 300000,2,250 },
-----------------------------------------------------------------------------------------------------------------------------------------
----------------------------------------------------------GROOVEMOTEL--------------------------------------------------------------------
-----------------------------------------------------------------------------------------------------------------------------------------
	["GR01"] = { 300000,2,250 },
	["GR02"] = { 300000,2,250 },
	["GR03"] = { 300000,2,250 },
	["GR04"] = { 300000,2,250 },
	["GR05"] = { 300000,2,250 },
	["GR06"] = { 300000,2,250 },
	["GR07"] = { 300000,2,250 },
	["GR08"] = { 300000,2,250 },
	["GR09"] = { 300000,2,250 },
	["GR10"] = { 300000,2,250 },
	["GR11"] = { 300000,2,250 },
	["GR12"] = { 300000,2,250 },
	["GR13"] = { 300000,2,250 },
	["GR14"] = { 300000,2,250 },
	["GR15"] = { 300000,2,250 },
-----------------------------------------------------------------------------------------------------------------------------------------
----------------------------------------------------------ALLSUELLMOTEL------------------------------------------------------------------
-----------------------------------------------------------------------------------------------------------------------------------------
	["AS01"] = { 500000,2,250 },
	["AS02"] = { 500000,2,250 },
	["AS03"] = { 500000,2,250 },
	["AS04"] = { 500000,2,250 },
	["AS05"] = { 500000,2,250 },
	["AS06"] = { 500000,2,250 },
	["AS07"] = { 500000,2,250 },
	["AS08"] = { 500000,2,250 },
	["AS09"] = { 500000,2,250 },
	["AS10"] = { 500000,2,250 },
	["AS12"] = { 500000,2,250 },
	["AS13"] = { 500000,2,250 },
	["AS14"] = { 500000,2,250 },
	["AS15"] = { 500000,2,250 },
	["AS16"] = { 500000,2,250 },
	["AS17"] = { 500000,2,250 },
	["AS18"] = { 500000,2,250 },
	["AS19"] = { 500000,2,250 },
	["AS20"] = { 500000,2,250 },
	["AS21"] = { 500000,2,250 },
-----------------------------------------------------------------------------------------------------------------------------------------
-----------------------------------------------------------PINKCAGEMOTEL-----------------------------------------------------------------
-----------------------------------------------------------------------------------------------------------------------------------------
	["PC01"] = { 500000,1,150 },
	["PC02"] = { 500000,1,150 },
	["PC03"] = { 500000,1,150 },
	["PC04"] = { 500000,1,150 },
	["PC05"] = { 500000,1,150 },
	["PC06"] = { 500000,1,150 },
	["PC07"] = { 500000,1,150 },
	["PC08"] = { 500000,1,150 },
	["PC09"] = { 500000,1,150 },
	["PC10"] = { 500000,1,150 },
	["PC11"] = { 500000,1,150 },
	["PC12"] = { 500000,1,150 },
	["PC13"] = { 500000,1,150 },
	["PC14"] = { 500000,1,150 },
	["PC15"] = { 500000,1,150 },
	["PC16"] = { 500000,1,150 },
	["PC17"] = { 500000,1,150 },
	["PC18"] = { 500000,1,150 },
	["PC19"] = { 500000,1,150 },
	["PC20"] = { 500000,1,150 },
	["PC21"] = { 500000,1,150 },
	["PC22"] = { 500000,1,150 },
	["PC23"] = { 500000,1,150 },
	["PC24"] = { 500000,1,150 },
	["PC25"] = { 500000,1,150 },
	["PC26"] = { 500000,1,150 },
	["PC27"] = { 500000,1,150 },
	["PC28"] = { 500000,1,150 },
	["PC29"] = { 500000,1,150 },
	["PC30"] = { 500000,1,150 },
	["PC31"] = { 500000,1,150 },
	["PC32"] = { 500000,1,150 },
	["PC33"] = { 500000,1,150 },
	["PC34"] = { 500000,1,150 },
	["PC35"] = { 500000,1,150 },
	["PC36"] = { 500000,1,150 },
	["PC37"] = { 500000,1,150 },
	["PC38"] = { 500000,1,150 },
-----------------------------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------PALETOMOTEL------------------------------------------------------------------
-----------------------------------------------------------------------------------------------------------------------------------------
	["PL01"] = { 500000,2,150 },
	["PL02"] = { 500000,2,150 },
	["PL03"] = { 500000,2,150 },
	["PL04"] = { 500000,2,150 },
	["PL05"] = { 500000,2,150 },
	["PL06"] = { 500000,2,150 },
	["PL07"] = { 500000,2,150 },
	["PL08"] = { 500000,2,150 },
	["PL09"] = { 500000,2,150 },
	["PL11"] = { 500000,2,150 },
	["PL12"] = { 500000,2,150 },
	["PL13"] = { 500000,2,150 },
	["PL14"] = { 500000,2,150 },
	["PL15"] = { 500000,2,150 },
	["PL16"] = { 500000,2,150 },
	["PL17"] = { 500000,2,150 },
	["PL18"] = { 500000,2,150 },
	["PL19"] = { 500000,2,150 },
	["PL20"] = { 500000,2,150 },
	["PL21"] = { 500000,2,150 },
	["PL22"] = { 500000,2,150 },
-----------------------------------------------------------------------------------------------------------------------------------------
-------------------------------------------------------------PALETOBAY-------------------------------------------------------------------
-----------------------------------------------------------------------------------------------------------------------------------------
	["PB01"] = { 300000,2,250 },
	["PB02"] = { 300000,2,250 },
	["PB03"] = { 300000,2,250 },
	["PB04"] = { 300000,2,250 },
	["PB05"] = { 300000,2,250 },
	["PB06"] = { 300000,2,250 },
	["PB07"] = { 300000,2,250 },
	["PB08"] = { 300000,2,250 },
	["PB09"] = { 300000,2,250 },
	["PB10"] = { 300000,2,250 },
	["PB11"] = { 300000,2,250 },
	["PB12"] = { 300000,2,250 },
	["PB13"] = { 300000,2,250 },
	["PB14"] = { 300000,2,250 },
	["PB15"] = { 300000,2,250 },
	["PB16"] = { 300000,2,250 },
	["PB17"] = { 300000,2,250 },
	["PB18"] = { 300000,2,250 },
	["PB19"] = { 300000,2,250 },
	["PB20"] = { 300000,2,250 },
	["PB21"] = { 300000,2,250 },
	["PB22"] = { 300000,2,250 },
	["PB23"] = { 300000,2,250 },
	["PB24"] = { 300000,2,250 },
	["PB25"] = { 300000,2,250 },
	["PB26"] = { 300000,2,250 },
	["PB27"] = { 300000,2,250 },
	["PB28"] = { 300000,2,250 },
	["PB29"] = { 300000,2,250 },
	["PB30"] = { 300000,2,250 },
	["PB31"] = { 300000,2,250 },
-----------------------------------------------------------------------------------------------------------------------------------------
-----------------------------------------------------MANSAO------------------------------------------------------------------------------
-----------------------------------------------------------------------------------------------------------------------------------------
	["MS01"] = { 3000000,4,1500 },
	["MS02"] = { 3000000,4,1500},
	["MS03"] = { 3000000,4,1500 },
	["MS04"] = { 3000000,4,1500 },
	["MS05"] = { 3000000,4,1500 },
	["MS06"] = { 3000000,4,1500 },
	["MS07"] = { 3000000,4,1500 },
	["MS08"] = { 3000000,4,1500 },
	["MS09"] = { 3000000,4,1500 },
	-----------------------------------------------------------------------------------------------------------------------------------------
	----------------------------------------------------------MOTELPRAIA---------------------------------------------------------------------
	-----------------------------------------------------------------------------------------------------------------------------------------
	["Beach01"] = { 200000,1,150 },
	["Beach02"] = { 200000,1,150 },
	["Beach03"] = { 200000,1,150 },
	["Beach04"] = { 200000,1,150 },
	["Beach05"] = { 200000,1,150 },
	["Beach06"] = { 200000,1,150 },
	["Beach07"] = { 200000,1,150 },
	["Beach08"] = { 200000,1,150 },
	["Beach09"] = { 200000,1,150 },
	["Beach10"] = { 200000,1,150 },
	["Beach11"] = { 200000,1,150 },
	["Beach12"] = { 200000,1,150 },
	["Beach13"] = { 200000,1,150 },
	["Beach14"] = { 200000,1,150 },
	["Beach15"] = { 200000,1,150 },
	["Beach16"] = { 200000,1,150 },
	["Beach17"] = { 200000,1,150 },
	["Beach18"] = { 200000,1,150 },
	["Beach19"] = { 200000,1,150 },
	["Beach20"] = { 200000,1,150 },
	["Beach21"] = { 200000,1,150 },
	["Beach22"] = { 200000,1,150 },
	["Beach23"] = { 200000,1,150 },
	["Beach24"] = { 200000,1,150 },
	["Beach25"] = { 200000,1,150 },
	["Beach26"] = { 200000,1,150 },
	["Beach27"] = { 200000,1,150 },
	["Beach28"] = { 200000,1,150 },
	["Beach30"] = { 200000,1,150 },
	["Beach31"] = { 200000,1,150 },
	["Beach32"] = { 200000,1,150 },
	["Beach33"] = { 200000,1,150 },
	["Beach34"] = { 200000,1,150 },
	["Beach36"] = { 200000,1,150 },
	["Beach37"] = { 200000,1,150 },
	["Beach69"] = { 200000,1,150 },
	-----------------------------------------------------------------------------------------------------------------------------------------
	----------------------------------------------------------MOTELZONAL---------------------------------------------------------------------
	-----------------------------------------------------------------------------------------------------------------------------------------
	["Zonaleste01"] = { 200000,1,150 },
	["Zonaleste02"] = { 200000,1,150 },
	["Zonaleste03"] = { 200000,1,150 },
	["Zonaleste04"] = { 200000,1,150 },
	["Zonaleste05"] = { 200000,1,150 },
	["Zonaleste06"] = { 200000,1,150 },
	["Zonaleste07"] = { 200000,1,150 },
	["Zonaleste08"] = { 200000,1,150 },
	["Zonaleste09"] = { 200000,1,150 },
	["Zonaleste10"] = { 200000,1,150 },
	["Zonaleste11"] = { 200000,1,150 },
	["Zonaleste12"] = { 200000,1,150 },
	["Zonaleste13"] = { 200000,1,150 },
	["Zonaleste14"] = { 200000,1,150 },
	["Zonaleste15"] = { 200000,1,150 },
	["Zonaleste16"] = { 200000,1,150 },
	["Zonaleste17"] = { 200000,1,150 },
	["Zonaleste18"] = { 200000,1,150 },
	["Zonaleste19"] = { 200000,1,150 },
	["Zonaleste20"] = { 200000,1,150 },
	["Zonaleste21"] = { 200000,1,150 },
	-- [Police Outfit DP] --
	["PoliceOutfit"] = { 0,30,1000 },
-----------------------------------------------------------------------------------------------------------------------------------------
-------------------------------------------------------------SANDYSHORE------------------------------------------------------------------
-----------------------------------------------------------------------------------------------------------------------------------------
	["SS01"] = { 60000000,4,1000 },
-----------------------------------------------------------------------------------------------------------------------------------------
-------------------------------------------------------------SANDYSHORE------------------------------------------------------------------
-----------------------------------------------------------------------------------------------------------------------------------------
	["FZ01"] = { 60000000,4,3000 },
}
-----------------------------------------------------------------------------------------------------------------------------------------
-- VARI√ÅVEIS
-----------------------------------------------------------------------------------------------------------------------------------------
local actived = {}
local blipHomes = {}
-----------------------------------------------------------------------------------------------------------------------------------------
-- BLIPHOMES
-----------------------------------------------------------------------------------------------------------------------------------------
Citizen.CreateThread(function()
	while true do
		blipHomes = {}
		for k,v in pairs(homes) do
			local checkHomes = vRP.query("homes/get_homeuseridowner",{ home = tostring(k) })
			if checkHomes[1] == nil then
				table.insert(blipHomes,{ name = tostring(k) })
				Citizen.Wait(10)
			end
		end
		Citizen.Wait(30*60000)
	end
end)
-----------------------------------------------------------------------------------------------------------------------------------------
-- HOMES
-----------------------------------------------------------------------------------------------------------------------------------------
RegisterCommand('homes',function(source,args,rawCommand)
	local source = source
	local user_id = vRP.getUserId(source)
	if user_id then
		if args[1] == "add" and homes[tostring(args[2])] then
			local myHomes = vRP.query("homes/get_homeuserowner",{ user_id = parseInt(user_id), home = tostring(args[2]) })
			if myHomes[1] then
				local totalResidents = vRP.query("homes/count_homepermissions",{ home = tostring(args[2]) })
				if parseInt(totalResidents[1].qtd) >= parseInt(homes[tostring(args[2])][2]) then
					TriggerClientEvent("Notify",source,"negado","A resid√™ncia "..tostring(args[2]).." atingiu o m√°ximo de moradores.",10000)
					return
				end

				vRP.execute("homes/add_permissions",{ home = tostring(args[2]), user_id = parseInt(args[3]) })
				local identity = vRP.getUserIdentity(parseInt(args[3]))
				if identity then
					TriggerClientEvent("Notify",source,"sucesso","Permiss√£o na resid√™ncia <b>"..tostring(args[2]).."</b> adicionada para <b>"..identity.name.." "..identity.firstname.."</b>.",10000)
				end
			end
		elseif args[1] == "rem" and homes[tostring(args[2])] then
			local myHomes = vRP.query("homes/get_homeuserowner",{ user_id = parseInt(user_id), home = tostring(args[2]) })
			if myHomes[1] then
				local userHomes = vRP.query("homes/get_homeuser",{ user_id = parseInt(args[3]), home = tostring(args[2]) })
				if userHomes[1] then
					vRP.execute("homes/rem_permissions",{ home = tostring(args[2]), user_id = parseInt(args[3]) })
					local identity = vRP.getUserIdentity(parseInt(args[3]))
					if identity then
						TriggerClientEvent("Notify",source,"importante","Permiss√£o na resid√™ncia <b>"..tostring(args[2]).."</b> removida de <b>"..identity.name.." "..identity.firstname.."</b>.",10000)
					end
				end
			end
		elseif args[1] == "garage" and homes[tostring(args[2])] then
			local myHomes = vRP.query("homes/get_homeuserowner",{ user_id = parseInt(user_id), home = tostring(args[2]) })
			if myHomes[1] then
				local userHomes = vRP.query("homes/get_homeuser",{ user_id = parseInt(args[3]), home = tostring(args[2]) })
				if userHomes[1] then
					if vRP.tryFullPayment(user_id,50000) then
						vRP.execute("homes/upd_permissions",{ home = tostring(args[2]), user_id = parseInt(args[3]) })
						local identity = vRP.getUserIdentity(parseInt(args[3]))
						if identity then
							TriggerClientEvent("Notify",source,"sucesso","Adicionado a permiss√£o da garagem a <b>"..identity.name.." "..identity.firstname.."</b>.",10000)
						end
					else
						TriggerClientEvent("Notify",source,"negado","Dinheiro insuficiente.",10000)
					end
				end
			end
		elseif args[1] == "list" then
			vCLIENT.setBlipsHomes(source,blipHomes)
		elseif args[1] == "check" and homes[tostring(args[2])] then
			local myHomes = vRP.query("homes/get_homeuserowner",{ user_id = parseInt(user_id), home = tostring(args[2]) })
			if myHomes[1] then
				local userHomes = vRP.query("homes/get_homepermissions",{ home = tostring(args[2]) })
				if parseInt(#userHomes) > 1 then
					local permissoes = ""
					for k,v in pairs(userHomes) do
						if v.user_id ~= user_id then
							local identity = vRP.getUserIdentity(v.user_id)
							permissoes = permissoes.."<b>Nome:</b> "..identity.name.." "..identity.firstname.."¬†¬†¬†-¬†¬†¬†<b>Passaporte:</b> "..v.user_id
							if k ~= #userHomes then
								permissoes = permissoes.."<br>"
							end
						end
						Citizen.Wait(10)
					end
					TriggerClientEvent("Notify",source,"negado","Permiss√µes da resid√™ncia <b>"..tostring(args[2]).."</b>: <br>"..permissoes,20000)
				else
					TriggerClientEvent("Notify",source,"negado","Nenhuma permiss√£o encontrada.",20000)
				end
			end
		elseif args[1] == "transfer" and homes[tostring(args[2])] then
			local myHomes = vRP.query("homes/get_homeuserowner",{ user_id = parseInt(user_id), home = tostring(args[2]) })
			if myHomes[1] then
				local identity = vRP.getUserIdentity(parseInt(args[3]))
				if identity then
					local ok = vRP.request(source,"Transferir a resid√™ncia <b>"..tostring(args[2]).."</b> para <b>"..identity.name.." "..identity.firstname.."</b>?",30)
					if ok then
						vRP.execute("homes/rem_allpermissions",{ home = tostring(args[2]) })
						vRP.execute("homes/buy_permissions",{ home = tostring(args[2]), user_id = parseInt(args[3]), tax = parseInt(myHomes[1].tax) })
						TriggerClientEvent("Notify",source,"importante","Transferiu a resid√™ncia <b>"..tostring(args[2]).."</b> para <b>"..identity.name.." "..identity.firstname.."</b>.",10000)
					end
				end
			end
		elseif args[1] == "tax" and homes[tostring(args[2])] then
			local ownerHomes = vRP.query("homes/get_homeuseridowner",{ home = tostring(args[2]) })
			if ownerHomes[1] then
				if vRP.tryFullPayment(user_id,parseInt(homes[tostring(args[2])][1]*0.10)) then
					vRP.execute("homes/rem_permissions",{ home = tostring(args[2]), user_id = parseInt(ownerHomes[1].user_id) })
					vRP.execute("homes/buy_permissions",{ home = tostring(args[2]), user_id = parseInt(ownerHomes[1].user_id), tax = parseInt(os.time()) })
					TriggerClientEvent("Notify",source,"sucesso","Pagamento de <b>$"..vRP.format(parseInt(homes[tostring(args[2])][1]*0.1)).." reais</b> efetuado com sucesso.",10000)
				else
					TriggerClientEvent("Notify",source,"negado","Dinheiro insuficiente.",10000)
				end
			end
		else
			local myHomes = vRP.query("homes/get_homeuserid",{ user_id = parseInt(user_id) })
			if parseInt(#myHomes) >= 1 then
				for k,v in pairs(myHomes) do
					local ownerHomes = vRP.query("homes/get_homeuseridowner",{ home = tostring(v.home) })
					if ownerHomes[1] then
						local house_price = parseInt(homes[tostring(v.home)][1])
						local house_tax = 0.10
					

						if parseInt(os.time()) >= parseInt(ownerHomes[1].tax+24*15*60*60) then
							TriggerClientEvent("Notify",source,"negado","<b>Resid√™ncia:</b> "..v.home.."<br><b>Property Tax:</b> Atrasado<br>Valor: <b>$"..vRP.format(parseInt(house_price * house_tax)).." d√≥lares</b>",20000)
						else
							TriggerClientEvent("Notify",source,"importante","<b>Resid√™ncia:</b> "..v.home.."<br>Taxa em: "..vRP.getDayHours(parseInt(86400*15-(os.time()-ownerHomes[1].tax))).."<br>Valor: <b>$"..vRP.format(parseInt(house_price * house_tax)).." d√≥lares</b>",20000)
						end
						Citizen.Wait(10)
					end
				end
			end
		end
	end
end)
-----------------------------------------------------------------------------------------------------------------------------------------
-- BLIPS
-----------------------------------------------------------------------------------------------------------------------------------------
AddEventHandler("vRP:playerSpawn",function(user_id,source,first_spawn)
	local source = source
	local user_id = vRP.getUserId(source)
	if user_id then
		local myHomes = vRP.query("homes/get_homeuserid",{ user_id = parseInt(user_id) })
		if parseInt(#myHomes) >= 1 then
			for k,v in pairs(myHomes) do
				vCLIENT.setBlipsOwner(source,v.home)
				Citizen.Wait(10)
			end
		end
	end
end)
-----------------------------------------------------------------------------------------------------------------------------------------
-- ACTIVEDOWNTIME
-----------------------------------------------------------------------------------------------------------------------------------------
Citizen.CreateThread(function()
	while true do
		Citizen.Wait(2000)
		for k,v in pairs(actived) do
			if v > 0 then
				actived[k] = v - 2
				if v == 0 then
					actived[k] = nil
				end
			end
		end
	end
end)
-----------------------------------------------------------------------------------------------------------------------------------------
-- CHECKPERMISSIONS
-----------------------------------------------------------------------------------------------------------------------------------------
local answered = {}
function src.checkPermissions(homeName)
	local source = source
	local user_id = vRP.getUserId(source)
	if user_id then
		local identity = vRP.getUserIdentity(user_id)
		if identity then
			if not vRP.searchReturn(source,user_id) then
				local homeResult = vRP.query("homes/get_homepermissions",{ home = tostring(homeName) })
				if parseInt(#homeResult) >= 1 then
					local myResult = vRP.query("homes/get_homeuser",{ user_id = parseInt(user_id), home = tostring(homeName) })
					local resultOwner = vRP.query("homes/get_homeuseridowner",{ home = tostring(homeName) })
					if myResult[1] then
						if parseInt(os.time()) >= parseInt(resultOwner[1].tax+24*18*60*60) then

							local cows = vRP.getSData("chest:"..tostring(homeName))
							local rows = json.decode(cows) or {}
							if rows then
								vRP.execute("creative/rem_srv_data",{ dkey = "chest:"..tostring(homeName) })
							end

							vRP.execute("homes/rem_allpermissions",{ home = tostring(homeName) })
							TriggerClientEvent("Notify",source,"aviso","A <b>Property Tax</b> venceu por <b>3 dias</b> e a casa foi vendida.",10000)
							return false
						elseif parseInt(os.time()) <= parseInt(resultOwner[1].tax+24*15*60*60) then
							return true
						else
							TriggerClientEvent("Notify",source,"aviso","A <b>Property Tax</b> da resid√™ncia est√° atrasada.",10000)
							return false
						end
					else
						if parseInt(os.time()) >= parseInt(resultOwner[1].tax+24*18*60*60) then

							local cows = vRP.getSData("chest:"..tostring(homeName))
							local rows = json.decode(cows) or {}
							if rows then
								vRP.execute("creative/rem_srv_data",{ dkey = "chest:"..tostring(homeName) })
							end

							vRP.execute("homes/rem_allpermissions",{ home = tostring(homeName) })
							return false
						end

						if parseInt(os.time()) >= parseInt(resultOwner[1].tax+24*15*60*60) then
							TriggerClientEvent("Notify",source,"aviso","A <b>Property Tax</b> da resid√™ncia est√° atrasada.",10000)
							return false
						end

						answered[user_id] = nil
						for k,v in pairs(homeResult) do
							local player = vRP.getUserSource(parseInt(v.user_id))
							if player then
								if not answered[user_id] then
									TriggerClientEvent("Notify",player,"importante","<b>"..identity.name.." "..identity.firstname.."</b> tocou o interfone da resid√™ncia <b>"..tostring(homeName).."</b>.<br>Deseja permitir a entrada do mesmo?",10000)
									local ok = vRP.request(player,"Permitir acesso a resid√™ncia?",30)
									if ok then
										answered[user_id] = true
										return true
									end
								end
							end
							Citizen.Wait(10)
						end
					end
				else
					local ok = vRP.request(source,"Deseja efetuar a compra da resid√™ncia <b>"..tostring(homeName).."</b> por <b>$"..vRP.format(parseInt(homes[tostring(homeName)][1])).."</b>?",30)
					if ok then
						if vRP.tryFullPayment(user_id,parseInt(homes[tostring(homeName)][1])) then
							vRP.execute("homes/buy_permissions",{ home = tostring(homeName), user_id = parseInt(user_id), tax = parseInt(os.time()) })
							TriggerClientEvent("Notify",source,"sucesso","A resid√™ncia <b>"..tostring(homeName).."</b> foi comprada com sucesso.",10000)
						else
							TriggerClientEvent("Notify",source,"negado","Dinheiro insuficiente.",10000)
						end
					end
					return false
				end
			end
		end
	end
	return false
end

-----------------------------------------------------------------------------------------------------------------------------------------
-- CHECKINTPERMISSIONS
-----------------------------------------------------------------------------------------------------------------------------------------
function src.checkIntPermissions(homeName)
	local source = source
	local user_id = vRP.getUserId(source)
	if user_id then
		if not vRP.searchReturn(source,user_id) then
			local myResult = vRP.query("homes/get_homeuser",{ user_id = parseInt(user_id), home = tostring(homeName) })
			if myResult[1] or vRP.hasPermission(user_id,"policia.permissao") then
				return true
			end
		end
	end
	return false
end
-----------------------------------------------------------------------------------------------------------------------------------------
-- OUTFIT
-----------------------------------------------------------------------------------------------------------------------------------------
RegisterCommand('outfit',function(source,args,rawCommand)
	local source = source
	local user_id = vRP.getUserId(source)
	if user_id then
		local homeName = vCLIENT.getHomeStatistics(source)
		local myResult = vRP.query("homes/get_homeuser",{ user_id = parseInt(user_id), home = tostring(homeName) })
		if myResult[1] then
			local data = vRP.getSData("outfit:"..tostring(homeName))
			local result = json.decode(data) or {}
			if result then
				if args[1] == "save" and args[2] then
					local custom = vRPclient.getCustomPlayer(source)
					if custom then
						local outname = sanitizeString(rawCommand:sub(13),sanitizes.homename[1],sanitizes.homename[2])
						if result[outname] == nil and string.len(outname) > 0 then
							result[outname] = custom
							vRP.setSData("outfit:"..tostring(homeName),json.encode(result))
							TriggerClientEvent("Notify",source,"sucesso","Outfit <b>"..outname.."</b> adicionado com sucesso.",10000)
						else
							TriggerClientEvent("Notify",source,"aviso","Nome escolhido j√° existe na lista de <b>Outfits</b>.",10000)
						end
					end
				elseif args[1] == "rem" and args[2] then
					local outname = sanitizeString(rawCommand:sub(12),sanitizes.homename[1],sanitizes.homename[2])
					if result[outname] ~= nil and string.len(outname) > 0 then
						result[outname] = nil
						vRP.setSData("outfit:"..tostring(homeName),json.encode(result))
						TriggerClientEvent("Notify",source,"sucesso","Outfit <b>"..outname.."</b> removido com sucesso.",10000)
					else
						TriggerClientEvent("Notify",source,"negado","Nome escolhido n√£o encontrado na lista de <b>Outfits</b>.",10000)
					end
				elseif args[1] == "apply" and args[2] then
					local outname = sanitizeString(rawCommand:sub(14),sanitizes.homename[1],sanitizes.homename[2])
					if result[outname] ~= nil and string.len(outname) > 0 then
						TriggerClientEvent("updateRoupas",source,result[outname])
						TriggerClientEvent("Notify",source,"sucesso","Outfit <b>"..outname.."</b> aplicado com sucesso.",10000)
					else
						TriggerClientEvent("Notify",source,"negado","Nome escolhido n√£o encontrado na lista de <b>Outfits</b>.",10000)
					end
				else
					for k,v in pairs(result) do
						TriggerClientEvent("Notify",source,"importante","<b>Outfit:</b> "..k,20000)
						Citizen.Wait(10)
					end
				end
			end
		end
	end
end)
-----------------------------------------------------------------------------------------------------------------------------------------
-- OPENCHEST
-----------------------------------------------------------------------------------------------------------------------------------------
function src.openChest(homeName)
	local source = source
	local user_id = vRP.getUserId(source)
	if user_id then
		local hsinventory = {}
		local myinventory = {}
		local data = vRP.getSData("chest:"..tostring(homeName))
		local result = json.decode(data) or {}
		if result then
			for k,v in pairs(result) do
				table.insert(hsinventory,{ amount = parseInt(v.amount), name = vRP.itemNameList(k), index = vRP.itemIndexList(k), key = k, peso = vRP.getItemWeight(k) })
			end

			local inv = vRP.getInventory(parseInt(user_id))
			for k,v in pairs(inv) do
				table.insert(myinventory,{ amount = parseInt(v.amount), name = vRP.itemNameList(k), index = vRP.itemIndexList(k), key = k, peso = vRP.getItemWeight(k) })
			end
		end
		return hsinventory,myinventory,vRP.getInventoryWeight(user_id),vRP.getInventoryMaxWeight(user_id),vRP.computeItemsWeight(result),parseInt(homes[tostring(homeName)][3])
	end
	return false
end
-----------------------------------------------------------------------------------------------------------------------------------------
-- STOREITEM
-----------------------------------------------------------------------------------------------------------------------------------------
function src.storeItem(homeName,itemName,amount)
	local source = source
	if itemName then
		local user_id = vRP.getUserId(source)
		if user_id and actived[parseInt(user_id)] == 0 or not actived[parseInt(user_id)] then
			if string.match(itemName,"identidade") or string.match(itemName,"xtudo")  or string.match(itemName,"pipoca") or string.match(itemName,"donut")  or string.match(itemName,"hotdog") or string.match(itemName,"sanduiche") or string.match(itemName,"batatafrita") or  string.match(itemName,"taco") or string.match(itemName,"chocolate") or string.match(itemName,"macarrao") or string.match(itemName,"churrasco")  or string.match(itemName,"agua")  or string.match(itemName,"fanta")  or string.match(itemName,"cocacola")   or string.match(itemName,"milkshake")  or string.match(itemName,"cafe") or string.match(itemName,"maconha") or string.match(itemName,"cocaina") or string.match(itemName,"metanfetamina") then
				TriggerClientEvent("Notify",source,"importante","N√£o pode guardar este item.",8000)
				return
			end

			local data = vRP.getSData("chest:"..tostring(homeName))
			local items = json.decode(data) or {}
			if items then
				if parseInt(amount) > 0 then
					local new_weight = vRP.computeItemsWeight(items)+vRP.getItemWeight(itemName)*parseInt(amount)
					if new_weight <= parseInt(homes[tostring(homeName)][3]) then
						if vRP.tryGetInventoryItem(parseInt(user_id),itemName,parseInt(amount)) then
							if items[itemName] ~= nil then
								items[itemName].amount = parseInt(items[itemName].amount) + parseInt(amount)
							else
								items[itemName] = { amount = parseInt(amount) }
							end
							actived[parseInt(user_id)] = 2
						end
					else
						TriggerClientEvent("Notify",source,"negado","<b>Vault</b> cheio.",8000)
					end
				else
					local inv = vRP.getInventory(parseInt(user_id))
					for k,v in pairs(inv) do
						if itemName == k then
							local new_weight = vRP.computeItemsWeight(items)+vRP.getItemWeight(itemName)*parseInt(v.amount)
							if new_weight <= parseInt(homes[tostring(homeName)][3]) then
								if vRP.tryGetInventoryItem(parseInt(user_id),itemName,parseInt(v.amount)) then
									if items[itemName] ~= nil then
										items[itemName].amount = parseInt(items[itemName].amount) + parseInt(v.amount)
									else
										items[itemName] = { amount = parseInt(v.amount) }
									end
									actived[parseInt(user_id)] = 2
								end
							else
								TriggerClientEvent("Notify",source,"negado","<b>Vault</b> cheio.",8000)
							end
						end
					end
				end
				vRP.setSData("chest:"..tostring(homeName),json.encode(items))
				TriggerClientEvent('Creative:UpdateVault',source,'updateVault')
			end
		end
	end
	return false
end
-----------------------------------------------------------------------------------------------------------------------------------------
-- TAKEITEM
-----------------------------------------------------------------------------------------------------------------------------------------
function src.takeItem(homeName,itemName,amount)
	local source = source
	if itemName then
		local user_id = vRP.getUserId(source)
		if user_id and actived[parseInt(user_id)] == 0 or not actived[parseInt(user_id)] then
			local data = vRP.getSData("chest:"..tostring(homeName))
			local items = json.decode(data) or {}
			if items then
				if parseInt(amount) > 0 then
					if items[itemName] ~= nil and parseInt(items[itemName].amount) >= parseInt(amount) then
						if vRP.getInventoryWeight(parseInt(user_id))+vRP.getItemWeight(itemName)*parseInt(amount) <= vRP.getInventoryMaxWeight(parseInt(user_id)) then
							vRP.giveInventoryItem( parseInt(user_id),itemName,parseInt(amount))
							items[itemName].amount = parseInt(items[itemName].amount) - parseInt(amount)

							if parseInt(items[itemName].amount) <= 0 then
								items[itemName] = nil
							end
							actived[parseInt(user_id)] = 2
						else
							TriggerClientEvent("Notify",source,"negado","<b>Mochila</b> cheia.",8000)
						end
					end
				else
					if items[itemName] ~= nil and parseInt(items[itemName].amount) >= parseInt(amount) then
						if vRP.getInventoryWeight(parseInt(user_id))+vRP.getItemWeight(itemName)*parseInt(items[itemName].amount) <= vRP.getInventoryMaxWeight(parseInt(user_id)) then
							vRP.giveInventoryItem( parseInt(user_id),itemName,parseInt(items[itemName].amount))
							items[itemName] = nil
							actived[parseInt(user_id)] = 2
						else
							TriggerClientEvent("Notify",source,"negado","<b>Mochila</b> cheia.",8000)
						end
					end
				end
				TriggerClientEvent('Creative:UpdateVault',source,'updateVault')
				vRP.setSData("chest:"..tostring(homeName),json.encode(items))
			end
		end
	end
	return false
end
-----------------------------------------------------------------------------------------------------------------------------------------
-- CHECKPOLICE
-----------------------------------------------------------------------------------------------------------------------------------------
function src.checkPolice()
	local source = source
	local user_id = vRP.getUserId(source)
	if user_id then
		if vRP.hasPermission(user_id,"policia.permissao") then
			return true
		end
		return false
	end
end